function VisNetworkMan(e){this.globalOption={extendsOption:{modeMakeCategoryNode:!1,modeMakeCategoryLinkEachNode:!1,modeTintColorByCategory:!1,modeDrawingCategoryBackgroundBeforeDrawing:!1,backgroundRadiusBeforeDrawing:75,tintCondition:function(){return!0},categoryIdAndColorMap:null,categoryRandomColorList:["red","orange","yellow","green","blue","indigo","violet","grey","pink","skyblue"],categoryIdField:"categoryId",categoryLabelField:"categoryName",modeCloneNodeWhenDuplicateLink:!1,modeUniqueDataInSameGroup:!1,modeUniqueData:!1,modeOrderByGroup:!0,orderList:null,modePruneNodeWithoutEdge:!1,modePruneNodeNotToRootGroup:!1,modeLoading:!0,modePointAllSubLink:!1,modeSelectAllSubLink:!1,modeNonPointEffect:!1,nodeWhenStart:null,edgeWhenStart:null,nodeWhenPoint:null,edgeWhenPoint:null,nodeWhenNonPoint:{shape:"circle",color:{background:"rgba(245,245,245,0.1)"},borderWidth:0,font:{size:0}},edgeWhenNonPoint:{color:"rgba(245,245,245,0.1)"},nodeWhenSelect:null,edgeWhenSelect:null,container:null,maxDistanceWhenDragNode:null,maxChildNodeCount:5,modeExtendsPanel:!1,modeExtendsPanelAutoHide:!1,modeExtendsPanelSaveToLocalStorage:!1,saveKey:null,extendsPanelToggleDefaultIndexMap:{direction:0,directionMethod:0,duplication:0,unification:0,edgeLimit:4},extendsPanelShowItemList:null,extendsPanelHideItemList:null,funcEventSetupNode:null,funcEventHoverNode:null,funcEventBlurNode:null,funcEventHoverNodeAndMove:null,funcEventClickNode:null,funcEventDoubleClickNode:null,funcEventDragNodeOverDistance:null,funcDataFilter:null,funcEventSetupEdge:null,funcEventHoverEdge:null,funcEventBlurEdge:null,funcEventHoverEdgeAndMove:null,funcEventSetupWhenFinishRender:null,funcEventFinishLoading:null,funcEventAfterRender:null,funcDrawingCategoryBackground:function(e,t,n,o,a){o.strokeStyle="#d4d6d6",o.fillStyle=n||"#d6d8d6",o.beginPath(),o.arc(t.x,t.y,radius,0,2*Math.PI,!1),o.closePath(),o.fill()},funcForCustomExtendsPanel:function(e,t){}}},VisNetworkMan.mergeIntoOption(this.globalOption,this.makeVisDefaultOptions()),this.cachedDataWhenLastUserSetup={option:null,nodeDataList:null,container:null},this.cachedDataWhenStartRendering={option:null,nodeDataList:null,edgeData:null,nodeData:null},this.cachedDataWhenAfterWorking={option:null,nodeDataList:null,nodeData:null,edgeData:null},this.vis=null,this.visNetwork=null,this.toggleman=new VisNetworkMan.ToggleMan,this.document=document,this.statusMouseover=!1,this.currentHoverNode=null,this.currentHoverEdge=null,this.loadingElement=null,this.loadingComplete=!1,this.nodeIdAndDataMap={},this.edgeIdAndDataMap={},this.dataIdAndDataMap={},this.categoryCheckMap=null,this.categoryIdAndColorMap=null,this.nodeEffectDataListMap={},this.edgeEffectDataListMap={},this.pointingNodeList=[],this.pointedNodeMap={},this.pointedEdgeMap={},this.nonPointedNodeMap={},this.nonPointedEdgeMap={},this.selectingNodeList=[],this.selectedNodeMap={},this.selectedEdgeMap={},e&&this.setup(e)}try{module.exports=exports=VisNetworkMan}catch(e){}VisNetworkMan.CLASS_EXTENDPANEL_OPTION_BUTTON="visnetwork-man-extendpanel-option-button",VisNetworkMan.CLASS_EXTENDPANEL_OPTION_SELECT="visnetwork-man-extendpanel-option-select",VisNetworkMan.CLASS_EXTENDPANEL_ZOOM_BUTTON="visnetwork-man-extendpanel-zoom-button",VisNetworkMan.CLASS_EXTENDPANEL_ZOOM_RANGE="visnetwork-man-extendpanel-zoom-range",VisNetworkMan.EFFECT_TYPE_POINT="point",VisNetworkMan.EFFECT_TYPE_SELECT="select",VisNetworkMan.prototype.setup=function(e){return VisNetworkMan.mergeIntoOption(this.globalOption,e),VisNetworkMan.mergeIntoOption(this.cachedDataWhenLastUserSetup.option,e),this.cachedDataWhenLastUserSetup.option&&this.mergeExtendsOptionToCorrectProperty(this.cachedDataWhenLastUserSetup.option),VisNetworkMan.mergeIntoOption(this.cachedDataWhenStartRendering.option,e),this.cachedDataWhenStartRendering.option&&this.mergeExtendsOptionToCorrectProperty(this.cachedDataWhenStartRendering.option),VisNetworkMan.mergeIntoOption(this.cachedDataWhenAfterWorking.option,e),this.cachedDataWhenAfterWorking.option&&this.mergeExtendsOptionToCorrectProperty(this.cachedDataWhenAfterWorking.option),this},VisNetworkMan.prototype.setupExtendsOption=function(e){return VisNetworkMan.mergeIntoOption(this.globalOption.extendsOption,e),this.cachedDataWhenLastUserSetup.option&&VisNetworkMan.mergeIntoOption(this.cachedDataWhenLastUserSetup.option.extendsOption,e),this.cachedDataWhenStartRendering.option&&VisNetworkMan.mergeIntoOption(this.cachedDataWhenStartRendering.option.extendsOption,e),this.cachedDataWhenAfterWorking.option&&VisNetworkMan.mergeIntoOption(this.cachedDataWhenAfterWorking.option.extendsOption,e),this},VisNetworkMan.prototype.setVis=function(e){return this.vis=e,this},VisNetworkMan.prototype.setDocument=function(e){return this.document=e,this.toggleman.setDocument(e),this},VisNetworkMan.prototype.setupExtendsPanel=function(e){return this.globalOption.extendsOption.funcForCustomExtendsPanel=e,this},VisNetworkMan.prototype.seModeCloneNodeWhenDuplicateLink=function(e){return this.extendsOption.modeCloneNodeWhenDuplicateLink=e,this},VisNetworkMan.prototype.setModeUniqueDataInSameGroup=function(e){return this.extendsOption.modeUniqueDataInSameGroup=e,this},VisNetworkMan.prototype.setModeUniqueData=function(e){return this.extendsOption.modeUniqueData=e,this},VisNetworkMan.prototype.setModeUniqueDataInSameGroup=function(e){return this.extendsOption.modeUniqueDataInSameGroup=e,this},VisNetworkMan.prototype.setModeOrderByGroup=function(e){return this.extendsOption.modeOrderByGroup=e,this},VisNetworkMan.prototype.cloneWithGlobalSetup=function(){return new VisNetworkMan(this.globalOption)},VisNetworkMan.prototype.renderWithDataList=function(e,t){var n=VisNetworkMan.makeNewNodeIdDataFromDataList(e);this.cachedDataWhenLastUserSetup={dataList:VisNetworkMan.cloneObject(e),nodeDataList:VisNetworkMan.cloneObject(n),option:VisNetworkMan.newMergeOptionAll(t)};var o=this.renderByFilter(n,t);return this.globalOption.extendsOption.funcEventSetupWhenFinishRender&&this.globalOption.extendsOption.funcEventSetupWhenFinishRender(this,o),o},VisNetworkMan.prototype.renderWithNodeDataList=function(e,t){e=VisNetworkMan.makeNewNodeIdDataFromNodeDataList(e),this.cachedDataWhenLastUserSetup={nodeDataList:VisNetworkMan.cloneObject(e),option:VisNetworkMan.newMergeOptionAll(t)};var n=this.renderByFilter(e,t);return this.globalOption.extendsOption.funcEventSetupWhenFinishRender&&this.globalOption.extendsOption.funcEventSetupWhenFinishRender(this,n),n},VisNetworkMan.prototype.reRenderByFilter=function(e){var t=this.cachedDataWhenLastUserSetup,n=VisNetworkMan.cloneObject(t.nodeDataList),o=VisNetworkMan.newMergeOptionAll(t.option,e);return o.container=t.container,o.container.innerHTML="",this.renderByFilter(n,o)},VisNetworkMan.prototype.renderByFilter=function(e,t){var n=this;if(!e||0==e.length)return this.makeAlertDiv("No Data",50);t=t?t:{};var o=(VisNetworkMan.cloneObject(t),VisNetworkMan.newMergeOptionAll(this.globalOption,t));this.mergeExtendsOptionToCorrectProperty(o);var a;if(o.extendsOption.modeExtendsPanel){a=this.makeExtendsPanelForOption(o),o.extendsOption.funcForCustomExtendsPanel&&o.extendsOption.funcForCustomExtendsPanel(a,this),o.extendsOption.extendsPanelToggleDefaultIndexMap&&this.toggleman.mergeIntoToggleIndexMap(o.extendsOption.extendsPanelToggleDefaultIndexMap);var i=this.toggleman.setModeSave(o.extendsOption.modeExtendsPanelSaveToLocalStorage).setSaveKey(o.extendsOption.saveKey).loadToggleDataFromLocalStorage().getAllToggledDataList();this.toggleman.refresh(),o=VisNetworkMan.newMergeOptionAll(o,i),this.mergeExtendsOptionToCorrectProperty(o)}!o.extendsOption.modeOrderByGroup&&o.extendsOption.orderList instanceof Array&&o.extendsOption.orderList.length>0||(o.extendsOption.orderList=VisNetworkMan.makeOrderByGroup(e)),VisNetworkMan.filterGroupOrderly(e,o),VisNetworkMan.filterPruningNodeWithoutEdge(e,o),(o.extendsOption.modeMakeCategoryNode||o.extendsOption.modeMakeCategoryLinkEachNode||o.extendsOption.modeTintColorByCategory||o.extendsOption.categoryIdAndColorMap)&&(this.categoryIdAndNodeListMap=VisNetworkMan.makeCategoryIdAndNodeListMap(e,o.extendsOption.categoryIdField),this.categoryIdAndColorMap=o.extendsOption.categoryIdAndColorMap?o.extendsOption.categoryIdAndColorMap:VisNetworkMan.makeCategoryIdAndColorMap(this.categoryIdAndNodeListMap,o.extendsOption.categoryRandomColorList),e=VisNetworkMan.makeCategoryNodeAndLinkData(e,o.extendsOption.categoryNodeWhenStart,this.categoryIdAndNodeListMap,this.categoryIdAndColorMap,o.extendsOption.modeMakeCategoryNode,o.extendsOption.modeMakeCategoryLinkEachNode,o.extendsOption.categoryIdField,o.extendsOption.categoryLabelField));var r=VisNetworkMan.makeEdgeList(e),d=o.extendsOption.nodeWhenStart;if(d)for(var s,l,d=o.extendsOption.nodeWhenStart,p=0;p<e.length;p++)s=e[p],l=d instanceof Function?d(s):d,VisNetworkMan.mergeIntoOption(s,l);if(o.extendsOption.funcEventSetupNode)for(var p=0;p<e.length;p++)o.extendsOption.funcEventSetupNode(e[p]);var g=o.extendsOption.edgeWhenStart;if(g)for(var c,l,p=0;p<r.length;p++)c=r[p],l=g instanceof Function?g(c):g,VisNetworkMan.mergeIntoOption(c,l);if(o.extendsOption.funcEventSetupEdge)for(var p=0;p<r.length;p++)o.extendsOption.funcEventSetupEdge(r[p]);o.extendsOption.modeTintColorByCategory&&this.tintColor(o.extendsOption,this.categoryIdAndNodeListMap,this.categoryIdAndColorMap);var u=o.extendsOption.container?o.extendsOption.container:this.makeContainerElement();u.style.position="relative";var h=this.makeContainerElement();u.appendChild(h),this.cachedDataWhenLastUserSetup.container=u,o.extendsOption.modeLoading&&(this.loadingElement=this.makeLoadingElement(),u.appendChild(this.loadingElement)),this.globalOption.extendsOption.funcDataFilter&&(e=this.globalOption.extendsOption.funcDataFilter(e));var N=this.render(h,e,r,o);if(o.extendsOption.funcEventAfterRender&&o.extendsOption.funcEventAfterRender(N),this.setupEvent(N,o.extendsOption),u.addEventListener("mousemove",function(e){n.currentHoverNode&&(e.visnetworkman=n,o.extendsOption.funcEventHoverNodeAndMove&&o.extendsOption.funcEventHoverNodeAndMove(n.currentHoverNode,e)),n.currentHoverEdge&&(e.visnetworkman=n,o.extendsOption.funcEventHoverEdgeAndMove&&o.extendsOption.funcEventHoverEdgeAndMove(n.currentHoverEdge,e))}),a){var n=this;u.firstChild.insertBefore(a,u.firstChild.firstChild),o.extendsOption.modeExtendsPanelAutoHide&&(u.addEventListener("mousemove",function(e){"block"!=a.style.display&&(a.style.display="block"),n.statusMouseover=!0}),u.addEventListener("mouseout",function(e){n.statusMouseover=!1,a.style.display="none"}),a.style.display=n.statusMouseover?"block":"none")}return u},VisNetworkMan.prototype.render=function(e,t,n,o){o||(o=VisNetworkMan.assign({},this.globalOption));var a=this.vis?this.vis:window.vis,i={nodes:new a.DataSet(t),edges:new a.DataSet(n)};this.data=i,this.nodeIdAndDataMap=i.nodes.get({returnType:"Object"}),this.edgeIdAndDataMap=i.edges.get({returnType:"Object"});for(var r,d=0;d<t.length;d++)r=t[d],this.dataIdAndDataMap[r.dataId]=r;var s=VisNetworkMan.cloneObject(o);delete s.extendsOption;var l=this.visNetwork=new a.Network(e,i,s);e.children[0].style.outline="none";for(var p,d=0;d<n.length;d++)p=n[d],p.toNode.parentEdgeIdList.push(p.id);return this.cachedDataWhenStartRendering={option:VisNetworkMan.cloneObject(o),nodeDataList:VisNetworkMan.cloneObject(t),nodeData:VisNetworkMan.cloneObject(this.nodeIdAndDataMap),edgeData:VisNetworkMan.cloneObject(this.edgeIdAndDataMap)},this.cachedDataWhenAfterWorking={option:o,nodeDataList:t,nodeData:this.nodeIdAndDataMap,edgeData:this.edgeIdAndDataMap},l},VisNetworkMan.prototype.cluster=function(e){return this.visNetwork.cluster(e),this},VisNetworkMan.prototype.clusterTest=function(e){for(var t,n=["side","job"],o=0;o<n.length;o++){var a=n[o];t={joinCondition:function(e){return e.categoryId==a},processProperties:function(e,t,n){return e},clusterNodeProperties:{id:"cluster_"+a,borderWidth:3,shape:"database",color:"yellow",label:"category_"+a}},e.cluster(t)}},VisNetworkMan.prototype.mergeExtendsOptionToCorrectProperty=function(e){e.extendsOption||(e.extendsOption={});for(var t in this.globalOption.extendsOption)e.extendsOption[t]=e.hasOwnProperty(t)?e[t]:e.extendsOption[t],delete e[t];return this},VisNetworkMan.prototype.updateNodeAll=function(e,t){var n=this;this.eachNode(function(o){t&&!t(o)||(o=VisNetworkMan.mergeIntoOption(o,e),n.cachedDataWhenStartRendering.nodeData[o.id]=o,n.visNetwork.nodesHandler.body.data.nodes.update(o))})},VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTION="direction",VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTIONMETHOD="directionMethod",VisNetworkMan.EXTENDSPANEL_TOGGLE_DUPLICATION="duplication",VisNetworkMan.EXTENDSPANEL_TOGGLE_UNIFICATION="unification",VisNetworkMan.EXTENDSPANEL_TOGGLE_EDGELIMIT="edgeLimit",VisNetworkMan.EXTENDSPANEL_TOGGLE_POPWINDOW="popWindow",VisNetworkMan.EXTENDSPANEL_TOGGLE_ZOOM="zoom",VisNetworkMan.prototype.makeExtendsPanelForOption=function(e){var t=this,n=this.toggleman,o=this.document,a=o.createElement("button");VisNetworkMan.addClass(a,VisNetworkMan.CLASS_EXTENDPANEL_OPTION_BUTTON);var i=o.createElement("button");VisNetworkMan.addClass(i,VisNetworkMan.CLASS_EXTENDPANEL_OPTION_BUTTON);var r=o.createElement("button");VisNetworkMan.addClass(r,VisNetworkMan.CLASS_EXTENDPANEL_OPTION_BUTTON);var d=o.createElement("button");VisNetworkMan.addClass(d,VisNetworkMan.CLASS_EXTENDPANEL_OPTION_BUTTON);var s=o.createElement("select");VisNetworkMan.addClass(s,VisNetworkMan.CLASS_EXTENDPANEL_OPTION_SELECT);var l=this.inputForZoom=o.createElement("input");VisNetworkMan.addClass(l,VisNetworkMan.CLASS_EXTENDPANEL_ZOOM_RANGE),l.style.width="50px",l.style.cursor="pointer",l.setAttribute("type","range"),l.setAttribute("min","0.1"),l.setAttribute("max","3"),l.setAttribute("step",".05"),l.setAttribute("value","1"),l.addEventListener("input",function(e){t.visNetwork.moveTo({scale:e.target.value})}),l.addEventListener("change",function(e){t.visNetwork.moveTo({scale:e.target.value,animation:!0})});var p=o.createElement("button");VisNetworkMan.addClass(p,VisNetworkMan.CLASS_EXTENDPANEL_ZOOM_BUTTON),p.innerHTML="+",p.style.display="inline-block",p.style.width="30px",p.style.height="30px",p.style.borderRadius="20px",p.style.cursor="pointer",p.addEventListener("click",function(e){l.value=t.visNetwork.getScale()+.05,t.trigger(l,"change")});var g=o.createElement("button");VisNetworkMan.addClass(g,VisNetworkMan.CLASS_EXTENDPANEL_ZOOM_BUTTON),g.innerHTML="-",g.style.display="inline-block",g.style.width="30px",g.style.height="30px",g.style.borderRadius="20px",g.style.cursor="pointer",g.addEventListener("click",function(e){l.value=t.visNetwork.getScale()-.05,t.trigger(l,"change")});var c=o.createElement("button");c.innerHTML="Pop Window",c.addEventListener("click",function(e){function n(){try{var e=o.document.body;e.width=o.innerWidth+"px",e.height=o.innerHeight+"px",e.style.width=e.width,e.style.height=e.height}catch(t){}}var o=window.open("","VIS_WINDOW","width=910, height=550, scrollbars=no");o.addEventListener("resize",function(){n()}),window.addEventListener("unload",function(){o&&!o.closed&&o.close()});var a=VisNetworkMan.newMergeOption(t.cachedDataWhenStartRendering.option,{height:"100%",width:"100%",extendsOption:{container:null,saveKey:null,extendsPanelShowItemList:[VisNetworkMan.EXTENDSPANEL_TOGGLE_ZOOM]}}),i=(new VisNetworkMan).setup(a).setDocument(o.document).renderWithNodeDataList(t.cachedDataWhenLastUserSetup.nodeDataList);o.document.body.style.margin="0px",o.document.body.appendChild(i)});var u=e.extendsOption.extendsPanelShowItemList,h=e.extendsOption.extendsPanelHideItemList,N=o.createElement("div");N.style.display="inline-block";var f={};f[VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTION]=r,f[VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTIONMETHOD]=d,f[VisNetworkMan.EXTENDSPANEL_TOGGLE_DUPLICATION]=i,f[VisNetworkMan.EXTENDSPANEL_TOGGLE_UNIFICATION]=a,f[VisNetworkMan.EXTENDSPANEL_TOGGLE_EDGELIMIT]=s,f[VisNetworkMan.EXTENDSPANEL_TOGGLE_POPWINDOW]=c;for(var M in f)if(!(u&&u.length>-1&&u.indexOf(M)==-1||h&&h.indexOf(M)!=-1))for(var E=f[M],v=0,E=E instanceof Array?E:[E];v<E.length;v++)N.appendChild(E[v]);var m=o.createElement("div");m.style.display="inline-block";var k={};k[VisNetworkMan.EXTENDSPANEL_TOGGLE_ZOOM]=[g,l,p];for(var M in k)if(!(u&&u.length>-1&&u.indexOf(M)==-1||h&&h.indexOf(M)!=-1))for(var E=k[M],v=0,E=E instanceof Array?E:[E];v<E.length;v++)m.appendChild(E[v]);var w=o.createElement("div");w.style.display="inline-block";var y=o.createElement("div");y.style.display="inline-block";var I=o.createElement("div");return I.style.position="absolute",I.style.zIndex=1e3,I.style.display="block",I.style.textAlign="right",I.style.width="100%",I.style.height="1px",I.appendChild(N),I.appendChild(o.createElement("br")),I.appendChild(w),I.appendChild(o.createElement("br")),I.appendChild(m),I.appendChild(o.createElement("br")),I.appendChild(y),this.panelForButtons=N,this.panelForBefore=w,this.panelForZoom=m,this.panelForAfter=y,n.setToggleData(VisNetworkMan.EXTENDSPANEL_TOGGLE_UNIFICATION,a,{"No Unify":{extendsOption:{modeUniqueDataInSameGroup:!1,modeUniqueData:!1}},"Unify in Group":{extendsOption:{modeUniqueDataInSameGroup:!0,modeUniqueData:!1}},"Unify in All":{extendsOption:{modeUniqueDataInSameGroup:!1,modeUniqueData:!0}}}),n.setToggleData(VisNetworkMan.EXTENDSPANEL_TOGGLE_DUPLICATION,i,{"Dup X":{extendsOption:{modeCloneNodeWhenDuplicateLink:!0}},"Dup O":{extendsOption:{modeCloneNodeWhenDuplicateLink:!1}}}),n.setToggleData(VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTION,r,{"to ALL":{},"to UP":{layout:{improvedLayout:!0,hierarchical:{enabled:!0,sortMethod:"directed",direction:"DU",nodeSpacing:200,levelSeparation:300}},funcEventAfterRender:function(e){e.setOptions({physics:{enabled:!1}})}},"to RIGHT":{layout:{improvedLayout:!0,hierarchical:{enabled:!0,sortMethod:"directed",direction:"LR",nodeSpacing:200,levelSeparation:300}},funcEventAfterRender:function(e){e.setOptions({physics:{enabled:!1}})}}}),n.setToggleData(VisNetworkMan.EXTENDSPANEL_TOGGLE_DIRECTIONMETHOD,d,{Direction:{},Hubsize:{layout:{hierarchical:{sortMethod:"hubsize"}}}}),n.setToggleData(VisNetworkMan.EXTENDSPANEL_TOGGLE_EDGELIMIT,s,{"10x":{extendsOption:{maxChildNodeCount:10}},"9x":{extendsOption:{maxChildNodeCount:9}},"8x":{extendsOption:{maxChildNodeCount:8}},"7x":{extendsOption:{maxChildNodeCount:7}},"6x":{extendsOption:{maxChildNodeCount:6}},"5x":{extendsOption:{maxChildNodeCount:5}},"4x":{extendsOption:{maxChildNodeCount:4}},"3x":{extendsOption:{maxChildNodeCount:3}},"2x":{extendsOption:{maxChildNodeCount:2}},"1x":{extendsOption:{maxChildNodeCount:1}}}),n.onaftertoggle=function(e){n.saveToggleDataToLocalStorage(),t.reRenderByFilter(n.getAllToggledDataList())},n.refresh(),I},VisNetworkMan.ToggleMan=function(){this.toggleNameAndItemListMap={},this.toggleNameAndItemDataMap={},this.toggleNameAndItemFunctionMap={},this.toggleNameAndIndexMap={},this.onbeforetoggle=function(){},this.onaftertoggle=function(){},this.modeSave=!1,this.saveKey=VisNetworkMan.ToggleMan.SAVE_DEFAULT_NAME,this.document=document},VisNetworkMan.ToggleMan.CLASS_TOGGLE_ON="toggle-on",VisNetworkMan.ToggleMan.CLASS_TOGGLE_OFF="toggle-off",VisNetworkMan.ToggleMan.SAVE_DEFAULT_NAME="/toggleman/visnetworkman/",VisNetworkMan.ToggleMan.prototype.setDocument=function(e){return this.document=e,this},VisNetworkMan.ToggleMan.prototype.setToggleData=function(e,t,n){var o=this;t=t instanceof Array?t:[t];for(var a=0;a<t.length;a++)"string"==typeof t[a]&&(t[a]=document.getElementById(t[a]));this.toggleNameAndItemListMap[e]=t,this.toggleNameAndItemDataMap[e]=n,null!==this.toggleNameAndIndexMap[e]&&void 0!==this.toggleNameAndIndexMap[e]||(this.toggleNameAndIndexMap[e]=0);for(var i,a=0;a<t.length;a++){switch(i=t[a],i.tagName.toUpperCase()){case"BUTTON":break;case"SELECT":if("object"==typeof n)for(var r,d=Object.keys(n),a=0;a<d.length;a++){r=d[a];var s=this.document.createElement("option");s.value=a,s.innerHTML=r,i.appendChild(s)}}o.setupToggleEvent(i,e)}return this},VisNetworkMan.ToggleMan.prototype.getToggleItem=function(e){var t=null,n=null;return"string"==typeof e?(n=e,t=this.toggleNameAndItemListMap[n][0]):e instanceof Element&&(t=e),t},VisNetworkMan.ToggleMan.prototype.getToggleName=function(e){var t=null,n=null;if("string"==typeof e)n=e;else if(e instanceof Element){t=e;for(var n in this.toggleNameAndItemListMap){var o=this.toggleNameAndItemListMap[n],a=o.indexOf(t);if(a!=-1)return n}}return n},VisNetworkMan.ToggleMan.prototype.setToggleFunction=function(e,t){return t=t instanceof Array?t:[t],this.toggleNameAndItemFunctionMap[e]=t,this},VisNetworkMan.ToggleMan.prototype.setupToggleEvent=function(e){var t=this;switch(e.tagName.toUpperCase()){case"BUTTON":e.addEventListener("click",function(n){t.toggle(e)}),e.addEventListener("mousewheel",function(n){var o=((n.deltaX?n.deltaX:n.wheelDeltaX)/5,(n.deltaY?n.deltaY:n.wheelDeltaY)/5);o<0?t.toggleBefore(e):o>0&&t.toggleNext(e)});break;case"INPUT":if(e.type)switch(e.type.toUpperCase()){case"RANGE":e.addEventListener("mousewheel",function(e){(e.deltaX?e.deltaX:e.wheelDeltaX)/5,(e.deltaY?e.deltaY:e.wheelDeltaY)/5})}break;case"SELECT":e.addEventListener("change",function(n){t.toggle(e,e.value)}),e.addEventListener("mousewheel",function(n){var o=((n.deltaX?n.deltaX:n.wheelDeltaX)/5,(n.deltaY?n.deltaY:n.wheelDeltaY)/5);o<0?t.toggleBefore(e):o>0&&t.toggleNext(e)})}},VisNetworkMan.ToggleMan.prototype.setToggleRadio=function(e,t,n){return this.toggleNameAndItemListMap=t instanceof Array?t:[t],this.toggleNameAndItemDataMap=n,this},VisNetworkMan.ToggleMan.prototype.toggle=function(e,t,n){var o=this,a=this.getToggleName(e),n=0!=n;if(a){var i,r,d=this.toggleNameAndItemListMap[a],s=this.toggleNameAndIndexMap[a],l=this.toggleNameAndItemDataMap[a];if(!d)return!1;if(1==d.length&&null==t)return o.toggleNext(a);if(t=null!=t?t:0,n){if(l instanceof Array)i=o.toggleNameAndItemDataMap[a][s];else if("object"==typeof l){var p=Object.keys(l),g=p[s];i=o.toggleNameAndItemDataMap[a][g]}o.onbeforetoggle(i)}if(this.toggleWithoutEvent(e,t),n){if(l instanceof Array)r=o.toggleNameAndItemDataMap[a][t];else if("object"==typeof l){var p=Object.keys(l),c=p[t];r=o.toggleNameAndItemDataMap[a][c]}o.onaftertoggle(r)}}},VisNetworkMan.ToggleMan.prototype.toggleWithoutEvent=function(e,t){var n,o=this.getToggleName(e),a=this.toggleNameAndItemListMap[o],i=this.toggleNameAndIndexMap[o],r=this.toggleNameAndItemDataMap[o],d=-1,s=a.length;r instanceof Array?d=1==r.length?2:r.length:"object"==typeof r&&(n=Object.keys(r),d=n.length);var l=(a[i],s<=t?0:t),p=a[l];this.setupClass(o,t),this.setupFunction(o,t),this.toggleNameAndIndexMap[o]=t,n&&VisNetworkMan.ToggleMan.setElementLabel(p,t,n)},VisNetworkMan.ToggleMan.prototype.toggleNext=function(e,t){var n,o=this.getToggleName(e),a=this.toggleNameAndItemDataMap[o],i=this.toggleNameAndIndexMap[o],r=-1;a instanceof Array?r=1==a.length?2:a.length:"object"==typeof a&&(n=Object.keys(a),r=n.length);var d=i+1<r?i+1:0;return this.toggle(o,d,t)},VisNetworkMan.ToggleMan.prototype.toggleBefore=function(e,t){var n,n,o=this.getToggleName(e),a=this.toggleNameAndItemDataMap[o],i=this.toggleNameAndIndexMap[o],r=-1;a instanceof Array?r=1==a.length?2:a.length:"object"==typeof a&&(n=Object.keys(a),r=n.length);var d=i-1>-1?i-1:r-1;return this.toggle(o,d,t)},VisNetworkMan.ToggleMan.prototype.toggleByIndex=function(e,t,n){return t=null!=t?t:0,this.toggle(e,t,n)},VisNetworkMan.ToggleMan.prototype.setupClass=function(e,t){for(var n=this.toggleNameAndItemListMap[e],o=(this.toggleNameAndIndexMap[e],0);o<n.length;o++)VisNetworkMan.removeClass(n[o],VisNetworkMan.ToggleMan.CLASS_TOGGLE_ON),VisNetworkMan.addClass(n[o],VisNetworkMan.ToggleMan.CLASS_TOGGLE_OFF);n[t]&&(VisNetworkMan.removeClass(n[t],VisNetworkMan.ToggleMan.CLASS_TOGGLE_OFF),VisNetworkMan.addClass(n[t],VisNetworkMan.ToggleMan.CLASS_TOGGLE_ON))},VisNetworkMan.ToggleMan.prototype.setupFunction=function(e,t){var n=this.toggleNameAndItemListMap[e],o=this.toggleNameAndItemFunctionMap[e];this.toggleNameAndIndexMap[e];if(o&&o[t]){var a=o[t],i=n[t];i||(i=n[n.length-1]),a&&a(i)}},VisNetworkMan.ToggleMan.setElementLabel=function(e,t,n){var o=n[t];switch(e.tagName.toUpperCase()){case"BUTTON":e.innerHTML=o;break;case"SELECT":e.value=t;break;default:e.innerHTML=o}},VisNetworkMan.ToggleMan.prototype.getAllToggledDataList=function(){for(var e,t=[],n=Object.keys(this.toggleNameAndIndexMap),o=0;o<n.length;o++){e=n[o];var a=this.toggleNameAndIndexMap[e],i=this.toggleNameAndItemDataMap[e];if(i)if(i instanceof Array){var r=i[a];t.push(r)}else if("object"==typeof i){var d=Object.keys(i),s=d[a],r=i[s];t.push(r)}}return t},VisNetworkMan.ToggleMan.prototype.setModeSave=function(e){return this.modeSave=e,this},VisNetworkMan.ToggleMan.prototype.setSaveKey=function(e){return null!=e&&(this.saveKey=VisNetworkMan.ToggleMan.SAVE_DEFAULT_NAME+e),this},VisNetworkMan.ToggleMan.prototype.saveToggleDataToLocalStorage=function(){if(!this.modeSave)return this;var e=this.toggleNameAndIndexMap;return localStorage.setItem(this.saveKey,JSON.stringify(e)),this},VisNetworkMan.ToggleMan.prototype.loadToggleDataFromLocalStorage=function(){if(!this.modeSave)return this;var e=localStorage.getItem(this.saveKey);if(!e)return this;var t=JSON.parse(e);return this.mergeIntoToggleIndexMap(t),this.refresh(),this},VisNetworkMan.ToggleMan.prototype.mergeIntoToggleIndexMap=function(e){for(var t in e)this.toggleNameAndIndexMap[t]=e[t];return this},VisNetworkMan.ToggleMan.prototype.refresh=function(){for(var e in this.toggleNameAndIndexMap){var t=this.toggleNameAndIndexMap[e];this.toggleWithoutEvent(e,t)}return this},VisNetworkMan.prototype.tintColor=function(e,t,n){for(var o in t)for(var a,i=n[o],r=t[o],d={},s=0;s<r.length;s++)if(a=r[s],a.image&&a.image.unselected){var l=a.image.unselected;d[l]||(d[l]=!0,this.tintImageAsync(l,i,o,e.tintCondition))}else a.color=VisNetworkMan.mergeIntoOption(a.color,{background:i})},VisNetworkMan.prototype.tintImageAsync=function(e,t,n,o){var a=this;o=o?o:function(){},VisNetworkMan.onLoadTintImage(e,t,.2,function(e){a.updateNodeAll({image:{unselected:e.src}},function(e){return e.categoryId==n&&e.image&&e.image.unselected&&o(e)})})},VisNetworkMan.makeNewNodeIdDataFromDataList=function(e){if(!e)return[];for(var t,n=[],o=0;o<e.length;o++)t=VisNetworkMan.makeNodeData(e[o],o),n.push(t);return n},VisNetworkMan.makeNodeData=function(e,t){var n=VisNetworkMan.assign({},e);return n.parentNodeIdList=[],n.childNodeIdList=[],n.sameCategoryNodeIdList=[],n.parentEdgeIdList=[],n.id=t,n.nodeId=t,n.dataId=e.id,n.parentDataId=e.parentId,n},VisNetworkMan.makeNewNodeIdDataFromNodeDataList=function(e){if(!e)return[];for(var t,n,o=[],a=0;a<e.length;a++)t=e[a],n=VisNetworkMan.assign({},t),n.parentNodeIdList=[],n.childNodeIdList=[],n.parentEdgeIdList=[],n.id=n.nodeId,null!=n.parentNodeId&&n.parentNodeIdList.push(n.parentNodeId),o.push(n);return o},VisNetworkMan.makeOrderByGroup=function(e){for(var t,n,o={},a=0;a<e.length;a++)t=e[a],n=t.group,o[n]=!0;var i=Object.keys(o),r=i.sort(function(e,t){return e-t});return r},VisNetworkMan.newMergeOptionAll=function(e,t){var n=e;if(t){t instanceof Array||t.length||(t=[t]);for(var o=0;o<t.length;o++)n=VisNetworkMan.newMergeOption(n,t[o])}else n=VisNetworkMan.newMergeOptionAll({},n);return n},VisNetworkMan.newMergeOption=function(e,t){e||(e=t instanceof Array?[]:{});var n=VisNetworkMan.cloneObject(e);return VisNetworkMan.mergeIntoOption(n,t)},VisNetworkMan.mergeIntoOption=function(e,t){if(t){e||(e=t instanceof Array?[]:{});for(var n in t){var o=t[n],a=null;if(null===o)e[n]=null;else if(void 0===o)e[n]=void 0;else if(o instanceof Element)a=o,e[n]=a;else if(o instanceof Array){e[n]||(e[n]=[]);for(var i=0;i<o.length;i++)a=null===o[i]?null:void 0===o[i]?void 0:o[i]instanceof Element?o[i]:o[i]instanceof Array?VisNetworkMan.newMergeOption(e[n][i],o[i]):"object"==typeof o[i]?VisNetworkMan.newMergeOption(e[n][i],o[i]):o[i],e[n][i]=a}else if("object"==typeof o){null==e[n]&&(e[n]={});for(var r in o)a=null===o[r]?null:void 0===o[r]?void 0:o[r]instanceof Element?o[r]:o[r]instanceof Array?VisNetworkMan.newMergeOption(e[n][r],o[r]):"object"==typeof o[r]?VisNetworkMan.newMergeOption(e[n][r],o[r]):o[r],e[n][r]=a}else a=o,e[n]=a}}return e},VisNetworkMan.cloneObject=function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,o=e.length;n<o;n++)t[n]=VisNetworkMan.cloneObject(e[n]);return t}if(e instanceof Element)return t=e;if("object"==typeof e||e instanceof Object){t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=VisNetworkMan.cloneObject(e[a]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},VisNetworkMan.assign=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e},VisNetworkMan.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t+" "},VisNetworkMan.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(void 0!==e.className){for(var n=e.className.split(" ");n.indexOf(t)!=-1;)n.splice(n.indexOf(t),1);e.className=n.join(" ")}},VisNetworkMan.prototype.trigger=function(e,t){if("createEvent"in this.document){var n=this.document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}else e.fireEvent("on"+t)},VisNetworkMan.filterGroupOrderly=function(e,t){for(var n,o=t.extendsOption,a={},i={},r={},d={},s=0;s<e.length;s++)n=e[s],null!=n.dataId&&(r[n.dataId]||(r[n.dataId]=[]),r[n.dataId].push(n),d[n.group]||(d[n.group]={}),d[n.group][n.dataId]||(d[n.group][n.dataId]=[]),d[n.group][n.dataId].push(n));for(var l,p,g,c,u=function(e,t,n){null!==n.maxChildNodeCount&&void 0!==n.maxChildNodeCount&&n.maxChildNodeCount>-1&&e.childNodeIdList.length>=n.maxChildNodeCount||(t.parentNodeIdList.push(e.id),e.childNodeIdList.push(t.id))},s=0;s<o.orderList.length;s++)if(!(s>o.orderList.length-1)){g=o.orderList[s],c=o.orderList[s+1];var h=d[g],N=d[c];if(h&&N)for(var f in N){p=N[f],i={};for(var M,E=0;E<p.length;E++)if(M=p[E],o.modeUniqueData){a[M.dataId]||(a[M.dataId]=M);var v=a[M.dataId];if(v!==M&&e.splice(e.indexOf(M),1),l=r[M.parentDataId])for(var m=0;m<l.length;m++)k=l[m],v.parentNodeIdList.indexOf(k.id)==-1&&u(k,v,o)}else if(null!=M.parentDataId&&(l=h[M.parentDataId]))for(var k,w=0;w<l.length;w++){if(k=l[w],o.modeCloneNodeWhenDuplicateLink&&M.parentNodeIdList.length>0){var y=VisNetworkMan.assign({},M);y.id=e.length,y.parentNodeIdList=[],y.childNodeIdList=[],e.push(y),M=y}if(o.modeUniqueDataInSameGroup){i[M.dataId]||(i[M.dataId]=M);var v=i[M.dataId];v!==M&&e.splice(e.indexOf(M),1),v.parentNodeIdList.indexOf(k.id)==-1&&u(k,v,o)}else u(k,M,o)}}}},VisNetworkMan.filterPruningNodeWithoutEdge=function(e,t){for(var n,o=t.extendsOption,a={},i=0;i<e.length;i++)n=e[i],a[n.id]=n;for(var r in a)for(var d,n=a[r],i=n.parentNodeIdList.length-1;i>-1;i--)d=n.parentNodeIdList[i],a[d]||n.parentNodeIdList.splice(i,1);if(o.modePruneNodeNotToRootGroup)for(var n,s=function(e){if(0==e.parentNodeIdList.length&&e.group!=o.orderList[0]){for(var t,n=0;n<e.childNodeIdList.length;n++){t=e.childNodeIdList[n];var i=a[t],r=i.parentNodeIdList.indexOf(e.id);r!=-1&&i.parentNodeIdList.splice(r,1),s(i)}e.childNodeIdList=[]}},i=e.length-1;i>-1;i--)n=e[i],s(n);if(o.modePruneNodeWithoutEdge)for(var n,i=e.length-1;i>-1;i--)n=e[i],0==n.parentNodeIdList.length&&0==n.childNodeIdList.length&&e.splice(i,1)},VisNetworkMan.makeEdgeList=function(e){for(var t,n=[],o=0;o<e.length;o++){t=e[o];for(var a,i,r,d=0;d<t.parentNodeIdList.length;d++)a=t.parentNodeIdList[d],i=VisNetworkMan.selectById(e,a),r={from:a,to:t.id,fromNode:i,toNode:t,type:"normal"},n.push(r);for(var s,l,r,d=0;d<t.sameCategoryNodeIdList.length;d++)s=t.sameCategoryNodeIdList[d],l=VisNetworkMan.selectById(e,s),r={from:s,to:t.id,fromNode:l,toNode:t,type:"category",noEffectEdge:!0},n.push(r)}return n},VisNetworkMan.makeCategoryNodeAndLinkData=function(e,t,n,o,a,i,r,d){for(var s=-1,l=0;l<e.length;l++)s=s>e[l].id?s:e[l].id;for(var p in n){var g,c=n[p],u=c[0][d];o[p];if(a){var h=VisNetworkMan.mergeIntoOption({label:u},t);h[r]=p,
g=VisNetworkMan.makeNodeData(h,++s)}for(var N,f=c.length,M=0;M<f-1;M++)if(N=c[M],a&&g.sameCategoryNodeIdList.push(N.id),i)for(var E,v=M+1;v<f;v++)E=c[v],E.sameCategoryNodeIdList.push(N.id);a&&(g.sameCategoryNodeIdList.push(c[f-1].id),e.push(g),c.push(g))}return e},VisNetworkMan.makeCategoryIdAndNodeListMap=function(e,t){for(var n,o,a={},i=0;i<e.length;i++)n=e[i],o=n[t],null!=o&&(a[o]||(a[o]=[]),a[o].push(n));return a},VisNetworkMan.makeCategoryIdAndColorMap=function(e,t){for(var n,o={},a=Object.keys(e),i=0;i<a.length;i++)n=a[i],o[n]=t[i];return o},VisNetworkMan.selectById=function(e,t){for(var n=0;n<e.length;n++)if(e[n].id==t)return e[n];return null},VisNetworkMan.prototype.makeContainerElement=function(){var e=this.document.createElement("div");return e.style.width="100%",e.style.height="100%",e},VisNetworkMan.prototype.makeLoadingElement=function(){var e=this.document.createElement("div"),t=this.document.createElement("div"),n=this.document.createElement("div"),o=this.document.createElement("div"),a=this.document.createElement("div");return VisNetworkMan.addClass(e,"visnetworkman-loading-container"),VisNetworkMan.addClass(t,"visnetworkman-loading-outer-border"),VisNetworkMan.addClass(n,"visnetworkman-loading-text"),VisNetworkMan.addClass(o,"visnetworkman-loading-border"),VisNetworkMan.addClass(a,"visnetworkman-loading-bar"),o.appendChild(a),t.appendChild(n),t.appendChild(o),e.appendChild(t),e},VisNetworkMan.prototype.makeAlertDiv=function(e,t){var n=this.document.createElement("div");return n.setAttribute("id","alert-message"),n.style.width="100%",n.style.height="100%",t=t?t:30,n.style.fontSize=t+"px",n.style.border="0px solid",n.style.textAlign="center",n.innerHTML='<br/><br/><span style="display:inline-block; border:3px dashed red">'+e+"</span>",n},VisNetworkMan.prototype.setupEvent=function(e,t){var n=this;e.on("stabilizationProgress",function(e){if(t.modeLoading)try{var o=n.loadingElement.children[0],a=o.children[0],i=o.children[1],r=i.children[0],d=i.getBoundingClientRect(),s=d.width||496,l=20,p=e.iterations/e.total,g=Math.max(l,s*p);r.style.width=g+"px",a.innerHTML=Math.round(100*p)+"%"}catch(c){}}),e.once("stabilizationIterationsDone",function(){if(!t.modeLoading)return void(n.loadingComplete=!0);try{var e=n.loadingElement.children[0],o=e.children[0],a=e.children[1],i=a.children[0],r=a.getBoundingClientRect(),d=r.width||496;o.innerHTML="100%",i.style.width=d+"px",n.loadingElement.style.opacity=0,n.loadingComplete=!0,t.funcEventFinishLoading&&t.funcEventFinishLoading(n),setTimeout(function(){n.loadingElement.style.display="none"},500)}catch(s){}}),e.on("initRedraw",function(){}),e.on("beforeDrawing",function(o){if(t.modeDrawingCategoryBackgroundBeforeDrawing){var a=n.nodeIdAndDataMap,i=n.categoryIdAndColorMap,r=t.categoryIdField;t.backgroundRadiusBeforeDrawing;for(var d in a){var s=a[d],l=s[r],p=i[l];if(p){var g=e.getPositions([d]),c=g[d];t.funcDrawingCategoryBackground(s,c,p,o,n)}}}}),e.on("afterDrawing",function(e){}),e.on("click",function(e){var o=n.nodeIdAndDataMap;n.edgeIdAndDataMap;e.visnetworkman=n;for(var a,i,r=0;r<e.nodes.length;r++)a=e.nodes[r],i=o[a],t.funcEventClickNode&&t.funcEventClickNode(i,e)}),e.on("doubleClick",function(e){if(e.nodes){var o=n.nodeIdAndDataMap;n.edgeIdAndDataMap;e.visnetworkman=n;for(var a,i,r=0;r<e.nodes.length;r++)a=e.nodes[r],i=o[a],t.funcEventDoubleClickNode&&t.funcEventDoubleClickNode(i,e)}}),e.on("oncontext",function(e){}),e.on("hoverNode",function(o){n.document.body.style.cursor="pointer";var a=n.nodeIdAndDataMap,i=(n.edgeIdAndDataMap,o.node),r=a[i];o.visnetworkman=n,n.currentHoverNode=r,r?(t.funcEventHoverNode&&t.funcEventHoverNode(r,o),t.modePointAllSubLink&&n.pointNode(i,t.nodeWhenPoint,t.edgeWhenPoint)):e.clustering.isCluster(i)&&(t.funcEventHoverNode&&t.funcEventHoverNode(r,o),t.modePointAllSubLink&&e.clustering.updateClusteredNode(i,t.clusterWhenPoint))}),e.on("blurNode",function(o){n.document.body.style.cursor="auto";var a=n.nodeIdAndDataMap,i=(n.edgeIdAndDataMap,o.node),r=a[i];o.visnetworkman=n,n.currentHoverNode=null,r?(t.funcEventBlurNode&&t.funcEventBlurNode(r,o),t.modePointAllSubLink&&n.unpointNode()):e.clustering.isCluster(i)&&(t.funcEventBlurNode&&t.funcEventBlurNode(r,o),t.modePointAllSubLink&&e.clustering.updateClusteredNode(i,t.clusterWhenStart))}),e.on("hoverEdge",function(e){n.document.body.style.cursor="pointer";var o=(n.nodeIdAndDataMap,n.edgeIdAndDataMap),a=e.edge,i=o[a];i&&(e.visnetworkman=n,n.currentHoverEdge=i,t.funcEventHoverEdge&&t.funcEventHoverEdge(i,e),t.modePointAllSubLink&&n.pointNode(i.toNode.id,t.nodeWhenPoint,t.edgeWhenPoint))}),e.on("blurEdge",function(e){n.document.body.style.cursor="auto";var o=(n.nodeIdAndDataMap,n.edgeIdAndDataMap),a=e.edge,i=o[a];i&&(e.visnetworkman=n,n.currentHoverEdge=null,t.funcEventBlurEdge&&t.funcEventBlurEdge(i,e),t.modePointAllSubLink&&n.unpointNode())}),e.on("selectNode",function(e){var o=(e.event.srcEvent.altKey,e.event.srcEvent.ctrlKey,n.nodeIdAndDataMap),a=e.nodes[0],i=o[a];i&&t.modeSelectAllSubLink&&n.selectNode(a,t.nodeWhenSelect,t.edgeWhenSelect)}),e.on("selectEdge",function(e){var o=n.edgeIdAndDataMap,a=e.edges[0],i=o[a];i&&t.modeSelectAllSubLink&&n.selectNode(i.toNode.id,t.nodeWhenSelect,t.edgeWhenSelect)}),e.on("deselectNode",function(e){}),e.on("deselectEdge",function(e){}),e.on("dragStart",function(e){}),e.on("dragging",function(o){var a=n.nodeIdAndDataMap,i=o.nodes[0],r=a[i];r&&null!=t.maxDistanceWhenDragNode&&o.event.distance>t.maxDistanceWhenDragNode&&!n.flagAlreadyDragedMaxDistance&&(n.flagAlreadyDragedMaxDistance=!0,e.setOptions({interaction:{dragNodes:!1,dragView:!1}}),t.funcEventDragNodeOverDistance&&t.funcEventDragNodeOverDistance(r))}),e.on("dragEnd",function(o){null!=t.maxDistanceWhenDragNode&&(n.flagAlreadyDragedMaxDistance=!1,e.setOptions({interaction:{dragNodes:!0,dragView:!0}}))}),e.on("zoom",function(e){}),e.on("release",function(e){}),e.on("resize",function(e){n.inputForZoom&&(n.inputForZoom.value=n.visNetwork.getScale())}),e.on("stabilized",function(e){}),e.on("initRedraw",function(e){}),e.on("afterDrawing",function(e){})},VisNetworkMan.prototype.pointNode=function(e,t,n){this.nodeIdAndDataMap,this.edgeIdAndDataMap;return this.pointingNodeList.push(e),this.effectPointNodeWithSublinks(e,t?t:this.globalOption.extendsOption.nodeWhenPoint,n?n:this.globalOption.extendsOption.edgeWhenPoint),this.renderNodeEffect(Object.keys(this.pointedNodeMap)),this.renderEdgeEffect(Object.keys(this.pointedEdgeMap)),this.globalOption.extendsOption.modeNonPointEffect&&this.runNonPointEffect(),this},VisNetworkMan.prototype.pointNodeByDataId=function(e){var t=this.dataIdAndDataMap[e];if(t){var n=t.id;return this.pointNode(n),this}},VisNetworkMan.prototype.unpointNode=function(){var e=this,t=Object.keys(e.pointedNodeMap),n=Object.keys(e.pointedEdgeMap);return e.releaseEffectPointNode(),e.releaseEffectPointEdge(),e.renderNodeEffect(t),e.renderEdgeEffect(n),this.globalOption.extendsOption.modeNonPointEffect&&this.stopNonPointEffect(),this},VisNetworkMan.prototype.effectPointNodeWithSublinks=function(e,t,n){var o,a=this.nodeIdAndDataMap,i=this.edgeIdAndDataMap;"object"==typeof e?o=e.id:(o=e,e=a[o]),this.effectPointNode(e,t);for(var r,d,s,l,p=0;p<e.parentEdgeIdList.length;p++)s=e.parentEdgeIdList[p],l=i[s],l.noEffectEdge||l.fromNode.group!=e.group&&(this.effectPointEdge(s,n),d=l.fromNode,r=d.id,this.pointedNodeMap[r]||d&&this.effectPointNodeWithSublinks(d,t,n))},VisNetworkMan.prototype.effectPointNode=function(e,t){if(null!=e)if(e instanceof Array)for(var n=0;n<e.length;n++)this.effectPointNode(e[n],t);else{var o,a=this.nodeIdAndDataMap;"object"==typeof e?o=e.id:(o=e,e=a[o]),null!=e&&(t instanceof Function&&(t=t&&t(e)),t.effectType=VisNetworkMan.EFFECT_TYPE_POINT,this.pointedNodeMap[e.id]=t,this.addNodeEffect(e.id,t))}},VisNetworkMan.prototype.effectPointEdge=function(e,t){if(null!=e)if(e instanceof Array)for(var n=0;n<e.length;n++)this.effectPointEdge(e[n],t);else{var o,a=this.edgeIdAndDataMap;if("object"==typeof e?o=e.id:(o=e,e=a[o]),null!=e)return!this.pointedEdgeMap[e.id]&&(t instanceof Function&&(t=t&&t(e)),t.effectType=VisNetworkMan.EFFECT_TYPE_POINT,this.pointedEdgeMap[e.id]=t,this.addEdgeEffect(e.id,t),!0)}},VisNetworkMan.prototype.releaseEffectPointNode=function(e){if(null!=e){var t;this.nodeIdAndDataMap;"object"==typeof e?t=e.id:(t=e,e=this.pointedNodeMap[t]);var n=this.pointedNodeMap[t];this.removeNodeEffect(t,n,VisNetworkMan.EFFECT_TYPE_POINT),delete this.pointedNodeMap[t]}else for(var t in this.pointedNodeMap)this.releaseEffectPointNode(t)},VisNetworkMan.prototype.releaseEffectPointEdge=function(e){if(null!=e){var t;this.edgeIdAndDataMap;"object"==typeof e?t=e.id:(t=e,e=this.pointedEdgeMap[t]);var n=this.pointedEdgeMap[t];this.removeEdgeEffect(t,n,VisNetworkMan.EFFECT_TYPE_POINT),delete this.pointedEdgeMap[t]}else for(var t in this.pointedEdgeMap)this.releaseEffectPointEdge(t)},VisNetworkMan.prototype.addNodeEffect=function(e,t){this.nodeEffectDataListMap[e]||(this.nodeEffectDataListMap[e]=[]);var n=this.nodeEffectDataListMap[e];return n.push(t),this},VisNetworkMan.prototype.addEdgeEffect=function(e,t){this.edgeEffectDataListMap[e]||(this.edgeEffectDataListMap[e]=[]);var n=this.edgeEffectDataListMap[e];return n.push(t),this},VisNetworkMan.prototype.removeNodeEffect=function(e,t,n){if(!this.nodeEffectDataListMap[e])return this;var o=this.nodeEffectDataListMap[e];if(n){for(var a,i=o.length-1;i>-1;i--)a=o[i],a.effectType==n&&o.splice(i,1);return this}var r=o.indexOf(t);return r!=-1&&o.splice(r,1),this},VisNetworkMan.prototype.removeEdgeEffect=function(e,t,n){if(!this.edgeEffectDataListMap[e])return this;var o=this.edgeEffectDataListMap[e];if(n){for(var a,i=o.length-1;i>-1;i--)a=o[i],a.effectType==n&&o.splice(i,1);return this}var r=o.indexOf(t);return r!=-1&&o.splice(r,1),this},VisNetworkMan.prototype.renderNodeEffect=function(e){for(var t,n=(this.nodeIdAndDataMap,this.edgeIdAndDataMap,0);n<e.length;n++){t=e[n];var o=this.cachedDataWhenStartRendering.nodeData[t],a=this.nodeEffectDataListMap[t],i=VisNetworkMan.newMergeOptionAll(o,a);this.visNetwork.nodesHandler.body.data.nodes.update(i)}},VisNetworkMan.prototype.renderEdgeEffect=function(e){for(var t,n=(this.nodeIdAndDataMap,this.edgeIdAndDataMap,0);n<e.length;n++){t=e[n];var o=this.cachedDataWhenStartRendering.edgeData[t],a=this.edgeEffectDataListMap[t],i=VisNetworkMan.newMergeOptionAll(o,a);this.visNetwork.nodesHandler.body.data.edges.update(i)}},VisNetworkMan.prototype.deleteNotExistsProperty=function(e,t){for(var n in e){e[n],t[n];t.hasOwnProperty(n)?e instanceof Array||e instanceof Function||"object"==typeof e&&this.deleteNotExistsProperty(e[n],t[n]):delete e[n]}},VisNetworkMan.prototype.runNonPointEffect=function(){var e,t=this.nodeIdAndDataMap,n=this.edgeIdAndDataMap,o=this.globalOption.extendsOption.nodeWhenNonPoint,a=this.globalOption.extendsOption.edgeWhenNonPoint;for(var i in t){var r=t[i];this.pointedNodeMap[i]||(this.nonPointedNodeMap[i]=r,e=VisNetworkMan.newMergeOptionAll(r,o),this.visNetwork.nodesHandler.body.data.nodes.update(e));for(var d,s=0;s<r.parentEdgeIdList.length;s++)if(d=r.parentEdgeIdList[s],!this.pointedEdgeMap[d]){var l=n[d];l&&(this.nonPointedEdgeMap[d]=l,e=VisNetworkMan.newMergeOptionAll(l,a),this.visNetwork.nodesHandler.body.data.edges.update(e))}}return this},VisNetworkMan.prototype.stopNonPointEffect=function(){for(var e in this.nonPointedNodeMap){var t=this.nonPointedNodeMap[e],n=this.cachedDataWhenStartRendering.nodeData[e],o=VisNetworkMan.newMergeOptionAll(n,t);this.visNetwork.nodesHandler.body.data.nodes.update(o),delete this.nonPointedNodeMap[e]}for(var a in this.nonPointedEdgeMap){var i=this.nonPointedEdgeMap[a],r=this.cachedDataWhenStartRendering.edgeData[a],o=VisNetworkMan.newMergeOptionAll(r,i);this.visNetwork.nodesHandler.body.data.edges.update(o),delete this.nonPointedEdgeMap[a]}return this},VisNetworkMan.prototype.selectNode=function(e,t,n){this.selectingNodeList.length>0&&this.unselectNode(this.selectingNodeList),this.selectingNodeList.push(e),this.effectSelectNodeWithSublinks(e,t?t:this.globalOption.extendsOption.nodeWhenSelect,n?n:this.globalOption.extendsOption.edgeWhenSelect),this.renderNodeEffect(Object.keys(this.selectedNodeMap)),this.renderEdgeEffect(Object.keys(this.selectedEdgeMap))},VisNetworkMan.prototype.selectNodeByDataId=function(e){var t=this.dataIdAndDataMap[e];if(t){var n=t.id;this.selectNode(n)}},VisNetworkMan.prototype.unselectNode=function(){var e=Object.keys(this.selectedNodeMap),t=Object.keys(this.selectedEdgeMap);this.releaseEffectSelectEdge(),this.releaseEffectSelectNode(),this.renderNodeEffect(e),this.renderEdgeEffect(t)},VisNetworkMan.prototype.effectSelectNodeWithSublinks=function(e,t,n){var o,a=this.nodeIdAndDataMap,i=this.edgeIdAndDataMap;"object"==typeof e?o=e.id:(o=e,e=a[o]),this.effectSelectNode(e,t);for(var r,d,s,l,p=0;p<e.parentEdgeIdList.length;p++)s=e.parentEdgeIdList[p],l=i[s],l.noEffectEdge||l.fromNode.group!=e.group&&(this.effectSelectEdge(s,n),d=l.fromNode,r=d.id,this.selectedNodeMap[r]||d&&this.effectSelectNodeWithSublinks(d,t,n))},VisNetworkMan.prototype.effectSelectNode=function(e,t){if(null!=e)if(e instanceof Array)for(var n=0;n<e.length;n++)this.effectSelectNode(e[n],t);else{var o,a=this.nodeIdAndDataMap;"object"==typeof e?o=e.id:(o=e,e=a[o]),t instanceof Function&&(t=t&&t(e)),t.effectType=VisNetworkMan.EFFECT_TYPE_SELECT,this.selectedNodeMap[e.id]=t,this.addNodeEffect(e.id,t)}},VisNetworkMan.prototype.effectSelectEdge=function(e,t){if(null!=e)if(e instanceof Array)for(var n=0;n<e.length;n++)this.effectSelectEdge(e[n],t);else{var o,a=this.edgeIdAndDataMap;"object"==typeof e?o=e.id:(o=e,e=a[o]),t instanceof Function&&(t=t&&t(e)),t.effectType=VisNetworkMan.EFFECT_TYPE_SELECT,this.selectedEdgeMap[e.id]=t,this.addEdgeEffect(e.id,t)}},VisNetworkMan.prototype.releaseEffectSelectNode=function(e){if(null!=e){var t;this.nodeIdAndDataMap,this.edgeIdAndDataMap;"object"==typeof e?t=e.id:(t=e,e=this.selectedNodeMap[t]);var n=this.selectedNodeMap[t];this.removeNodeEffect(t,n,VisNetworkMan.EFFECT_TYPE_SELECT),delete this.selectedNodeMap[t]}else for(var t in this.selectedNodeMap)this.releaseEffectSelectNode(t)},VisNetworkMan.prototype.releaseEffectSelectEdge=function(e){if(null!=e){var t;this.nodeIdAndDataMap,this.edgeIdAndDataMap;"object"==typeof e?t=e.id:(t=e,e=this.selectedEdgeMap[t]);var n=this.selectedEdgeMap[t];this.removeEdgeEffect(t,n,VisNetworkMan.EFFECT_TYPE_SELECT),delete this.selectedEdgeMap[t]}else for(var t in this.selectedEdgeMap)this.releaseEffectSelectEdge(t)},VisNetworkMan.prototype.getNode=function(e){return this.nodeIdAndDataMap[e]},VisNetworkMan.prototype.getNodeByDataId=function(e){return this.dataIdAndDataMap[e]},VisNetworkMan.prototype.getNodeByLabel=function(e){var t,n=this.nodeIdAndDataMap;for(var o in n)if(t=n[o],t&&null!=t.label&&t.label==e)return t;return null},VisNetworkMan.prototype.eachNode=function(e){var t=this.nodeIdAndDataMap;for(var n in t)e&&e(t[n])},VisNetworkMan.prototype.eachEdge=function(e){var t=this.edgeIdAndDataMap;for(var n in t)e&&e(t[n])},VisNetworkMan.prototype.checkLoading=function(){return this.loadingComplete},VisNetworkMan.prototype.makeVisDefaultOptions=function(){return{autoResize:!0,height:"100%",width:"100%",locale:"en",clickToUse:!1,interaction:{hover:!0,zoomView:!1,keyboard:!0},layout:{randomSeed:0},nodes:{chosen:{node:function(e,t,n,o){},label:function(e,t,n,o){o?e.color="#c24639":e.color="#bc5b3c"}},shape:"dot",size:30,font:{size:32},borderWidth:2,shadow:!0},edges:{chosen:{edge:function(e,t,n,o){},label:function(e,t,n,o){o?e.color="#d54243":e.color="#9f462e"}},width:2,color:{inherit:!1},shadow:!0}}},VisNetworkMan.loadTestDataList=function(){for(var e,t,n=[{id:0,label:"START",group:0,url:"url/to/where/you/want/go?id=0",parentId:void 0},{id:1,label:"Node 1",group:1,parentId:0},{id:2,label:"Node 2",group:1,parentId:0},{id:3,label:"Node 3",group:1,parentId:0},{id:4,label:"Node 4",group:1,parentId:0},{id:5,label:"Node 5",group:1,parentId:0},{id:7,label:"Node 7",group:1,parentId:0},{id:7,label:"Node 7",group:2,parentId:0},{id:7,label:"Node 7",group:3,parentId:0},{id:11,label:"Node 11",group:2,parentId:1},{id:12,label:"Node 12",group:2,parentId:1},{id:13,label:"Node 13",group:2,parentId:1},{id:14,label:"Node 14",group:2,parentId:1},{id:15,label:"Node 15",group:2,parentId:1},{id:15,label:"Node 15",group:2,parentId:3},{id:21,label:"Node 21",group:2,parentId:2},{id:22,label:"Node 22",group:2,parentId:2},{id:23,label:"Node 23",group:2,parentId:2},{id:24,label:"Node 24",group:2,parentId:2},{id:25,label:"Node 25",group:2,parentId:2},{id:31,label:"Node 31",group:2,parentId:3},{id:31,label:"Node 31",group:2,parentId:3},{id:32,label:"Node 32",group:2,parentId:3},{id:33,label:"Node 33",group:2,parentId:3},{id:34,label:"Node 34",group:2,parentId:3},{id:35,label:"Node 35",group:2,parentId:3},{id:41,label:"Node 41",group:2,parentId:4},{id:42,label:"Node 42",group:2,parentId:4},{id:43,label:"Node 43",group:2,parentId:4},{id:44,label:"Node 44",group:2,parentId:4},{id:45,label:"Node 45",group:2,parentId:4},{id:51,label:"Node 51",group:2,parentId:5},{id:52,label:"Node 52",group:2,parentId:5},{id:53,label:"Node 53",group:2,parentId:5},{id:54,label:"Node 54",group:2,parentId:5},{id:55,label:"Node 55",group:2,parentId:5},{id:7,label:"Node 7",group:2,parentId:11},{id:111,label:"Node 111",group:3,parentId:11},{id:112,label:"Node 112",group:3,parentId:11},{id:113,label:"Node 113",group:3,parentId:11},{id:114,label:"Node 114",group:3,parentId:11},{id:115,label:"Node 115",group:3,parentId:11},{id:121,label:"Node 121",group:3,parentId:12},{id:122,label:"Node 122",group:3,parentId:12},{id:123,label:"Node 123",group:3,parentId:12},{id:124,label:"Node 124",group:3,parentId:12},{id:125,label:"Node 125",group:3,parentId:12},{id:131,label:"Node 131",group:3,parentId:13},{id:132,label:"Node 132",group:3,parentId:13},{id:133,label:"Node 133",group:3,parentId:13},{id:134,label:"Node 134",group:3,parentId:13},{id:135,label:"Node 135",group:3,parentId:13},{id:141,label:"Node 141",group:3,parentId:14},{id:142,label:"Node 142",group:3,parentId:14},{id:143,label:"Node 143",group:3,parentId:14},{id:144,label:"Node 144",group:3,parentId:14},{id:145,label:"Node 145",group:3,parentId:14},{id:151,label:"Node 151",group:3,parentId:15},{id:152,label:"Node 152",group:3,parentId:15},{id:153,label:"Node 153",group:3,parentId:15},{id:154,label:"Node 154",group:3,parentId:15},{id:155,label:"Node 155",group:3,parentId:15},{id:7,label:"Node 7",group:3,parentId:111},{id:7,label:"Node 7",group:3,parentId:143}],o={},a=0;a<n.length;a++){e=n[a];for(t in o)e[t]=o[t]}return n},VisNetworkMan.loadTestNodeDataList=function(){for(var e,t=VisNetworkMan.loadTestDataList(),n=[],o={},a=0;a<t.length;a++)e=t[a],e.nodeId=e.id,e.parentNodeId=e.parentId,o[e.nodeId]||n.push(e),o[e.nodeId]=!0;return n},VisNetworkMan.onLoadTintImage=function(e,t,n,o){n=null!=n?n:.15;var a=null,i=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var i=e.getContext("2d");i.drawImage(a,0,0);for(var r,d,s,l,p=i.getImageData(0,0,e.width,e.height),g=p.data,c=0,u=g.length;c<u;c+=4)r=g[c],d=g[c+1],s=g[c+2],l=Math.floor((r+d+s)/3),g[c]=g[c+1]=g[c+2]=l;i.putImageData(p,0,0),i.globalCompositeOperation="lighter",i.globalAlpha=n,i.fillStyle=t,i.fillRect(0,0,e.width,e.height),a.onload=function(){a.onload=null,o&&o(a)},a.src=e.toDataURL()};if("string"==typeof e){var a=new Image;a.onload=i,a.src=e}else i();return a.src};